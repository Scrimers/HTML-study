<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>CODE TEST</title>
		<link rel="stylesheet" href="style.css">
		<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
		<style>	
		</style>
	</head>
	<body>
		<!-- navigation 시작 -->
		<div class="indexTitleEmpty nav_studyVer"></div>
		<div class="indexTitle">
			<h1 class="indexTitleText">
				<a href="index.html" class="indexMainATag">STUDY LIST</a><br>						
			</h1>
		</div>
		<div class="indexStudyListGrid">
			<div class="indexStudy rightB">
				<a href="htmlStudy.html" class="indexATag">HTML</a><br>		
			</div>
			<div class="indexStudy rightB">
				<a href="cssStudy.html" class="indexATag">CSS</a>
			</div>
			<div class="indexStudy">
				<a href="javascriptStudy.html" class="indexATag">JAVASCRIPT</a>
			</div>
		</div>
		<div class="indexETCGrid">		
			<div class="indexStudy rightB">
				<a href="codeTest.html" class="indexATag">CODE TEST</a>
			</div>
			<div class="indexStudy">
				<a href="remainStudy.html" class="indexATag">Remain Study</a>
			</div>
		</div>
		<!-- navigation 끝 -->
		
		<br><br>
		
		
		<div id="divTarget">

		</div>
	
		<script src="json/local/htmlStudy.json" type="text/javascript"></script>
		<script>
			let jsonData;

			$.ajaxSetup({ async: false });	// 전역으로 동기화 설정
			$.getJSON('json/htmlStudy.json', function(data){
				//서버에서 실해 시 
				jsonData = data;
			})
			.fail(function() {
				//로컬에서 실행 시 (CORS에러 때문에 작성)
				jsonData = htmlStudy;
			})
			.always(function() {
				jsonData = JSON.parse(JSON.stringify(jsonData));
			});
			$.ajaxSetup({ async: true });	// 전역으로 비동기화 설정
			
			
			
			var html = [];

			$.each(jsonData, function(i, item){
				if(item.title == undefined) {
					console.log("명시되지 않은 타입 존재");
					return true;	//continue
				}
			
				html.push('<article class="subArticle">');

				html.push('	<h3 class="subTitle">');
				html.push(item.title);
				html.push('	</h3>');

				if(item.purpose != undefined && item.purpose != "") {
					html.push('	<div class="subGrid">');
					html.push('		<div class="subTitle">용도</div>');
					html.push('		<div class="subText">');
					html.push(item.purpose);
					html.push('		</div>');
					html.push('	</div>');
				}
				
				if(item.explain != undefined && item.explain != "") {
					html.push('	<div class="subGrid">');
					html.push('		<div class="subTitle">설명</div>');
					html.push('		<div class="subText">');
					html.push(item.explain);
					html.push('		</div>');
					html.push('	</div>');
				}

				if(item.howUse != undefined && item.howUse != "") {
					html.push('	<div>');
					html.push('		<div class="subTitleHowUse">사용법</div>');
					html.push('		<div class="subTextHowUse">');
					html.push(item.howUse);
					html.push('		</div>');
					html.push('	</div>');
				}

				html.push('</article>');
			});
			$('#divTarget').html(html.join(''));	

				
	



			// $(document).ready(function () {
			// 	$("#divTarget").load("json/htmlStudy.json", function(responseTxt, statusTxt, xhr){
			// 		console.log("responseTxt : "+responseTxt);
			// 		console.log("statusTxt : "+statusTxt);
			// 		console.log("xhr : "+xhr);

			// 		if (statusTxt == "success") {
			// 		console.log("로드 완료!");
			// 		}
			// 		if (statusTxt == "error") {
			// 		console.log("에러 발생: " + xhr.status + ": " + xhr.statusText);
			// 		}
			// 	});
			// });


			// $.getJSON('htmlStudy.json', function(data){
			// 	console.log("data : "+JSON.stringify(data))
			// 	// var html = [];

			// 	// $.each(data, function(i, item){
			// 	// console.log(item.users.length);
			// 	// for(var num = 0; num < item.users.length; num++){
			// 	// 	html.push('<div style="margin: 1em 1em 1em 1em;">');
			// 	// 	html.push('<div> 아이디 : '+item.users[num].id+'</div>');
			// 	// 	html.push('<div> 닉네임 : '+item.users[num].nickname+'</div>');
			// 	// 	html.push('<div> 블로그주소 : <a href="'+item.users[num].blog+'" target="_blank">'+item.users[num].blog+'</a></div>');
			// 	// 	html.push('</div>');
			// 	// }
			// 	// });
			// 	// $('#data-container').html(html.join(''));
			// });


			
			

		</script>
	</body>
</html>
